{% extends "base.html" %}
{% block title %}Editar Usuario{% endblock %}
{% block content %}
<div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-2xl mx-auto my-12">
    <h2 class="text-2xl font-bold text-gray-800 mb-2">Editando Permisos</h2>
    <p class="text-gray-600 mb-6">Para el usuario: <span class="font-semibold">{{ usuario.nombre_completo }}</span></p>

    <form method="post" class="space-y-6">
        <fieldset>
            <legend class="text-lg font-medium text-gray-900 mb-4">Permisos de BÃºsqueda</legend>
            <div class="space-y-4">
                {% for categoria in todas_las_categorias %}
                    <div class="flex items-center">
                        <input type="checkbox" 
                               name="permisos" 
                               value="{{ categoria.id }}" 
                               id="cat-{{ categoria.id }}" 
                               class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                               {% if categoria.id in permisos_usuario %} checked {% endif %}>
                        <label for="cat-{{ categoria.id }}" class="ml-3 block text-sm font-medium text-gray-700">
                            {{ categoria.nombre }}
                        </label>
                    </div>
                {% endfor %}
            </div>
        </fieldset>

        <div class="flex justify-end gap-4 pt-6 border-t">
            <a href="{{ url_for('admin_panel') }}" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition">
                Cancelar
            </a>
            <button type="submit" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition">
                Guardar Cambios
            </button>
        </div>
    </form>
</div>
{% endblock %}